# Refactoring
매주 수요일 밤 아홉시! [왜웅](https://github.com/sovovy)과 함께하는 리팩토링 2판 스터디! 

![image](https://user-images.githubusercontent.com/20410193/152670400-d659eb02-e631-43f3-9705-c89b24c6b87b.png)

이번에는 과연,, 다 읽을 수 있을까!!

## 스터디 진행 방법

- 1- 4장은 책에서 꼼꼼히 보는걸 추천. 따라서 아래 내용들을 정리
  - 중요 내용
  - 개인적인 느낌, 생각
  - 서로 논의해볼 내용
  - 추가로 1, 4장에 나오는 예제 코드는 자신이 사용하는 언어로 실습

- 우선 4회차(-5장)까지 진행한 후 카탈로그 장 (6 - 12 장) 은 어떻게할지 얘기해보기 

## 일정

| 회차         | 내용                                                         |
| ------------ | ------------------------------------------------------------ |
| 1회차 (2/9)  | 1장 - 작은 프로그램 리팩토링 과정 <- 리팩토링이 뭔지 모르면 & 리팩토링을 하는 이유 |
| 2회차 (2/16) | 2장 - 리팩토링 원칙, 당위성 + 문제점 <- 리팩토링을 하는 이유 |
| 3회차 (2/23) | 3장 - 쓰레기 코드 찾는법, 리팩토링 방법 <- 리팩토링 해야할 곳을 찾을때 |
| 4회차 (3/2)  | 4장 - 테스트 작성법 & 5장 - 카탈로그 사용법                  |



# 1장
## 중요 내용
- 리팩토링 이전에 선행되어야 할 건 **테스트 코드**!  이게 있어야 코드를 수정해도 문제가 없나 파악할 수 있음
 
   `수정 -> 컴파일 -> 테스트` 가 하나의 사이클
- 코드가 길어지는 것 보다 **명확**하게 표현할 수 있는가가 더 중요. 
- 함수를 잘 **쪼개자**
- **다형성**을 잘 활용하자
- 변수 인라인하기 등의 기법 때문에 로직이 **여러번 호출**될 수 있음. 하지만 각종 **최적화** 기법 덕에 성능상 크게 차이가 없을 가능성이 많다고 함. 일단 리팩토링하고, 실제로 느려지면 그때 다시 수정,,하라고 함!
## 나의 생각
- 🤔 "변수 인라인하기"가 많이 나오는데, 그러면 같은 값을 여러 곳에서 관리해야해서 오히려 더 유지보수하기 불편해지지 않나? 한줄도 길어져서 가독성도 떨어지고,,? 이거는 좋은지 잘 모르겠다
  ![image](https://user-images.githubusercontent.com/20410193/152670034-8b32a6fb-0c17-4988-bbad-c2e5e9844f46.png)
## 해보면 좋을것
- 저자가 똑같은 동작의 for 문이라도 의미가 분리된다면 loop 를 분리하라고 했는데, 사실 이것도 읭? 스럽긴 함. 실제로 컴파일러에서 이걸 최적화 해서 묶어주나? 테스트해보면 좋을듯
```swift
//전
let range = (1...10)

var totalAmount = 0
var volumeCredits = 0
range.forEach { amount in
    totalAmount += amount
    volumeCredits += amount
}

//후
let range = (1...10)

var totalAmount = 0
range.forEach { amount in
    totalAmount += amount
}

var volumeCredits = 0
range.forEach { amount in
    volumeCredits += amount
}
```
