# 9장

## 9-1. 변수 쪼개기

- 역할 하나당 변수 하나. 여러 용도로 변수가 쓰이면 읽는 이에게 혼란을 줌
- 매개변수도 변수

## 9-2. 필드 이름 바꾸기

- 이름은 중요함
- 데이터 구조는 프로그램을 이해하는데 큰 역할을 하기 때문에, 레코드 구조체의 필드 이름은 더더욱 중요. 

## 9-3. 파생 변수를 질의 함수로 바꾸기

```javascript
// 전
get discountedTotal() {return this._discountedTotal;}
set discount(aNumber) {
  const old = this._discount;
  this._discout = aNumber;
  this._discountedTotal += old - aNumber;
}

// 후
get discountedTotal() { return this._baseTotal - this._discount;}
set discount(aNumber) { this._discount = aNumber; }
```

- 한 쪽 코드에서 수정한 값이 연쇄효과를 일으켜 다른 쪽 코드에 원ㅇ인을 찾기 어려운 문제를 야기하기도 함 
- 따라서 가변 데이터의 유효 범위를 가능한 좁혀야함

## 9-4. 참조를 값으로 바꾸기

- 불변 데이터 값은 프로그램 외부로 건네줘도 나중에 그 값이 나 몰래 바뀌어서 내부에 영향을 줄까 염려하지 않아도 됨
- 따라서 일반적으로 불변 데이터 구조는 더 다루기 쉬움
- 값을 복제해서 사용하더라도 서로 간의 참조를 관리하지 않아도 되기 때문에 분산 시스템과 동시성 시스템에서 특히 유용
- 하지만 특정 객체를 여러 객체에서 공유하고자 한다면 공유 객체를 참조로 다뤄야 함

## 9-5. 값을 참조로 바꾸기

- 논리적으로 같은 데이터를 물리적으로 복제해 사용할 때 가장 크게 문제되는 상황은 그 데이터를 갱신해야 할 때임. 모든 복제본을 찾아서 빠짐없이 갱신해야하며, 하나라도 놓치면 데이터 일관성이 깨지기 때문.
- 이런 상황이라면 복제된 데이터들을 모두 참조로 바꿔주는게 좋음

## 9-6. 매직 리터럴 바꾸기

```javascript
// 전
2 * 3.14 * radius

// 후
2 * pi * radius
```

- 매직 리터럴이란 보통 소스 코드 여러곳에 등장하는 일반적인 리터럴 값
- `9.81` 이 표준 중력을 뜻하긴 하지만, 읽는 사람이 이 의미를 모른다면 숫자 자체로는 의미를 명확히 알려주지 못함. 따라서 상수를 정의하고 이를 사용하는게 코드의 뜻을 분명히 드러내는 방법
- 매직 리터럴은 대체로 숫자가 많지만, "M" 은 남성을, "서울"은 본사를 뜻할 수도 있음.
- 하지만 `const One = 1` 같은건 의미 전달면에서 바로 쓰는 것보다 나을게 없음

