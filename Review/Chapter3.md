# 3장

## 중요 내용

- 이름 바꾸기는 단순히 이름을 다르게 표현하는 연습이 아님. **마땅한 이름이 떠오르지 않는다면 설계에 더 근본적인 문제**가 숨어 있을 가능성이 높음. 

- 예전 언어는 **서브루틴을 호출하는 비용**이 컸기 때문에 **짧은 함수를 꺼렸**지만, 지금은 프로세스 안에서의 **함수 호출 비용**을 거의 **없앰**. 코드를 읽는 사람 입장에서는 함수가 하는 일을 파악하기 위해 **왔다 갔다** 해야하므로 여전히 **부담**이 되지만, **함수 이름**을 잘 지어두면 **본문 코드를 볼 이유가 사라**짐
- 코드가 단 한줄이어도 주석 등으로 따로 **설명할 필요**가 있다면 **함수로 추출**하는게 좋음
- **작은 함수와 클래스**에 지나칠 정도로 **집착**하지만, 코드를 재구성하는 **중간 과정**에서는 **큰 덩어리**로 뭉쳐지는데 **개의치 않음**
- 간혹 **특정 상황에서만 값이 설정되는 필드**를 가진 클래스도 있음. 하지만 객체를 가져올 때는 당연히 **모든 필드가 채워져있으리라 기대하는게 보통**이기 때문에, 이는 **이해하기 어려**운 코드가 됨. 따라서 이런 필드들을 발견하면 **클래스 추출하기**로 제 살 곳을 찾아줌.
- **메시지 체인**을 사용하면, **내비게이션 중간 단계를 수정**할 때 **클라이언트 코드도 수정**해야 함. 이를 위임 숨기기로 해결. 메시지 체인이 무조건 나쁜거는 아니고, 저자는 중도를 지향.

## 나의 생각

- 문제가 될 수 있는 부분들을 설명하고, "**x.y 절의 z 라는 방법** (ex. 8.6절 문장 슬라이드하기)"을 이용해서 해결한다. 라고 써있어서 아직 해당 부분을 읽지 않은 사람으로써 **이해하기 어려운 부분들이 많았**음. 이 장은 책을 **완독하고 나서 한번 더 읽는**게 효과적일듯.

- **Clean Code** 에서는 "너가 **주석을 다는거는 코드를 명확히 작성하지 못했기 때문**. 나중에 코드는 바뀌고 주석만 남아있는 경우도 있기 때문에 **주석은 지양**하는게 좋음" 이런 뉘앙스로 주석에 대한 설명이 적혀있었던듯. 

  그래도 여기서는 "주석은 악취가 아닌 향기를 입힘. 현재 진행 상황, 확실하지 않은 부분, 코드를 지금처럼 작성한 이유 등에 대해 달아두면 나중에 **코드를 수정해야할 프로그래머에게 도움**이 될 수 있음" 이라고 설명함. 

  일차적으로는 클린 코드에 써있던 것 처럼, **주석을 작성**하는 이유는 **코드를 읽는 것만으로 의도를 파악하기 어렵**기 때문에, 즉 코드가 명확하지 않기 때문이라는 것에 동의. 따라서 주석을 사용하지 않아도 될 만큼 코드를 명확히 짜야함. 하지만 현실적으로 그만큼 **깔끔히 짜기 어려운 경우**들이 있기 때문에 (예를 들면 나의 실력부족으로,,?? ^.ㅠ), 이런 경우에는 최소한 **주석**을 남겨두는게 좋다고 생각함.

- 예전 언어는 **서브루틴을 호출하는 비용**이 컸기 때문에 **짧은 함수를 꺼렸**다는 사실이 신기함

## 논의해볼 사항

- "3.14 성의 없는 요소"에서는 '본문 코드를 그대로 쓰는 것과 진배없는 함수도 있고, 실질적으로 메서드가 하나뿐인 클래스도 있다. 이런 프로그램 요소는 고이 보내드리는게 좋다'고 함.

  그런데 이렇게 보이는 요소들이 사실은 함수 분리를 통해 의미 있는 이름으로 나누기 위해서였거나, 클래스 분리를 통해 역할을 명확히 분리하기 위해서였다면?? 특정 요소가 **성의 없는 요소에 속하는지 여부**를 우리가 **어떻게 판단**할 수 있을까??

  => **문맥상으로 파악하기 힘든 내용**들을 함수로 빼낸다. 

  예를 들어 아래의 함수는 getRating 으로 감싸지 않았다면, 2 나 , 1 이 무엇인지 알 수 없을 것. 그래서 함수로 분리.

  ```javascript
  function getRating(driver) {
    return (driver.numberOfLateDeliveries > 5) ? 2: 1
  }
  ```

  근데 아래와 같은 코드는 함수로 굳이 분리하지 않고 인라인 하더라도, 충분히 코드가 명확하기 때문에 분리하는 것은 오히려 낭비

  ```javascript
  function moreThanFiveLateDeliveries(driver) {
    return driver.numberOfLateDeliveries > 5
  }
  ```

- "3.17 메시지 체인" 해결법으로 위임 숨기기를 말했는데, 모든 객체에 위임 숨기기를 적용할게 아니라면 **어차피 중간 객체 안에서 메시지 체인**이 일어나는거 아닌가?? 이렇게 고치는게 큰 차이가 있나??

  ```javascript
  // 전
  manager = aPerson.department.manager
  
  // 후
  class Person {
    get menager() { return this.department.manager }
  }
  ```

  => 저자는 **`manager` 프로퍼티를 사용**하는 입장이 **(SDK 등을 사용하는) client** 라고 가정하고 쓴게 아닐까?? 그러면 SDK 등의 구현이 바뀌었을때도, 클라이언트는 수정 할 필요 없으니까,,, 요런 인터페이스 의미 같은 느낌으로다가 위임 숨기기를 말한걸까,,



  
