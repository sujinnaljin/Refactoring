# 6장

## 6-1. 함수 추출하기

- **함수 추출 기준**을 길이나 재사용성으로 둘 수도 있지만, 저자의 경우 "**목적과 구현을 분리**"에 기준을 둠
- 대체로 추출하는 함수를 짧게 유지 (단 한줄이어도 괜찮음). 대여섯줄을 넘어갈때부터 슬슬 냄새를 풍기기 시작했음
- **이름 짓기**에 특별히 신경 필요
- 저자는 `Date.now` 처럼 **시스템 시간을 알려주는 함수를 직접 호출 하지 않**고, `const today = Clock.today` 처럼 Clock Wrapper 를 사용함. 왜냐면 직접 호출시 **테스트할 때마다 결과가 달라**져서 오류 상황을 재현하기 어렵기 때문

## 6-2. 함수 인라인하기

- 함수 추출하기의 반대
- 함수 **본문**이 이름만큼 **명확**할때 사용
- **간접 호출**을 너무 **과하게** 쓰는 코드도 인라인 대상

## 6-3. 변수 추출하기

- **표현식에 이름**을 붙이는 식으로 쪼개 더 **관리하기 쉽**게 만들 수 있음
- 이 과정에서 추가한 변수는 **디버깅**에도 도움

## 6-4. 변수 인라인하기

- 변수 추출하기의 반대
- 변수로 나타내는 이름이 **원래 표현식과 다를바가 없을때** 사용

## 6-5. 함수 선언 바꾸기

- aka. 함수 이름 바꾸기, 시그니처 바꾸기
- **이름 바꾸기** 뿐만 아니라, **매개 변수 바꾸기** 또한 이 기법에 포함

## 6-6. 변수 캡슐화하기

- 함수는 데이터보다 다루기 수월하기 때문에, 접근할 수 있는 범위가 넓은 데이터는 함수로 캡슐화 하는 것이 좋음. 
- 저자는 유효 범위가 함수 하나보다 넓은 가변 데이터는 모두 캡슐화 한다고 함

## 논의해볼 사항

- "6-1. 함수 추출하기" - 중첩 함수를 지원하는 언어라면 중첩 함수 사용하라고 되어있음 (160p). 

  중첩 함수가 길거나, 많아진다면 결과적으로 최 상위에서 감싸는 함수가 길어지는 형태라 보기 더 어려운거 같은데,, 언제나 중첩 함수가 더 좋다고 할 수 있을까?

- "6-3. 변수 추출하기 - 클래스 문맥 안에서 변수를 추출 할 때는 변수가 아닌 메서드로 추출하는 편이라고 함. 덩치가 큰 클래스에서 공통 동작을 별도 이름로 뽑아서 추상화해두면 그 객체를 다룰 때 쉽게 활용할 수 있어서 유용하기 때문이라고 (176p).

  ```javascript
  class Order {
    get price() { return this.basePrice - this.quantityDiscount + this.shipping; }
    get basePrice() { return this.quantity + this.itemPrice; }
    get quantityDiscount() { return Math.max(0, this.quantity - 500) + this.itemPrice + 0.05;}
    get shipping() { return Math.min(this.basePrice + 0.1, 100); }
  }
  ```

  그러니까 여기서 `price` 안에서 사용하는 중간 값들을 변수가 아닌 메서드로 빼놓는다는 건데,, 흠,, 객체를 다룰 때 해당 값들을 사용하지 않을 수도 있는데 이걸 굳이 외부에서 사용할 수 있도록 빼놓는게 좋다고 할 수 있나? YAGNI 라며..

- "6-6. 변수 캡슐화하기" - 그냥 getter, setter 만들기,,의 내용 인건가?

